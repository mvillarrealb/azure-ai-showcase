<div class="flex h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100">
  
  <!-- Overlay for mobile -->
  @if (isSidenavOpen) {
    <div 
      class="fixed inset-0 z-20 bg-black/50 lg:hidden"
      (click)="closeSidenav()">
    </div>
  }

  <!-- Sidebar -->
  <div 
    class="fixed inset-y-0 left-0 z-30 w-64 bg-white/90 backdrop-blur-lg shadow-xl transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 border-r border-gray-200/50"
    [class.translate-x-0]="isSidenavOpen"
    [class.-translate-x-full]="!isSidenavOpen">
    
    <!-- Sidebar Header -->
    <div class="flex flex-col items-center text-center px-6 py-6 bg-white/60 backdrop-blur-sm border-b border-gray-200/30">
      <!-- Icono centrado -->
      <div class="w-12 h-12 rounded-2xl flex items-center justify-center mb-3 shadow-lg" [class]="sidebarIconClasses">
        <i [class]="sidebarIcon" class="text-white text-xl"></i>
      </div>
      <!-- InformaciÃ³n -->
      <div>
        <h2 class="text-lg font-semibold text-gray-900 mb-1">{{ title }}</h2>
        <p class="text-xs text-gray-500">Panel de Control</p>
      </div>
    </div>
    
    <!-- Navigation Links -->
    <nav class="mt-2 px-3">
      <div class="space-y-1">
        @for (link of navigationLinks; track link.route) {
          <a 
            (click)="navigateTo(link.route)"
            class="flex items-center px-3 py-3 text-gray-700 rounded-xl hover:bg-gray-100/80 hover:text-gray-900 cursor-pointer transition-all duration-200 group">
            @if (link.icon) {
              <div class="w-8 h-8 flex items-center justify-center mr-3">
                <i 
                  [class]="link.icon" 
                  class="text-gray-600 group-hover:text-gray-800 text-base">
                </i>
              </div>
            }
            <div class="flex-1">
              <span class="font-medium text-sm">{{ link.label }}</span>
            </div>
            <i class="fas fa-chevron-right text-gray-400 text-xs group-hover:text-gray-600"></i>
          </a>
        }
      </div>
    </nav>
    
    <!-- User Profile Section -->
    <div class="absolute bottom-0 left-0 right-0 p-3 bg-gray-50/80 backdrop-blur-sm border-t border-gray-200/30">
      <div class="flex items-center px-3 py-2 rounded-xl bg-white/60">
        <div class="w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mr-3">
          <i class="fas fa-user text-white text-sm"></i>
        </div>
        <div class="flex-1">
          <p class="text-sm font-medium text-gray-900">Usuario</p>
          <p class="text-xs text-gray-500">Ver perfil</p>
        </div>
        <i class="fas fa-cog text-gray-400 text-sm"></i>
      </div>
    </div>
  </div>

  <!-- Main content area -->
  <div class="flex-1 flex flex-col overflow-hidden">
    
    <!-- Header -->
    <header 
      class="flex items-center justify-between px-6 py-4 border-b border-white/20 shadow-sm backdrop-blur-md"
      [class]="headerClasses">
      
      <div class="flex items-center">
        <!-- Menu button for mobile (burger menu) -->
        <button 
          (click)="toggleSidenav()"
          class="p-2 rounded-md text-white hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white/30 lg:hidden transition-colors duration-200 mr-3">
          <i class="fas fa-bars text-xl"></i>
        </button>
        
        <!-- Back button -->
        @if (showBackButton) {
          <button 
            (click)="goBack()"
            class="p-2 rounded-md text-white hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white/30 transition-colors duration-200 mr-3">
            <i [class]="backButtonIcon" class="text-xl"></i>
          </button>
        }
        
        <!-- Title -->
        <h1 class="text-xl font-semibold text-white">{{ title }}</h1>
      </div>
      
      <!-- Header actions slot -->
      <div class="flex items-center space-x-3">
        <ng-content select="[slot=header-actions]"></ng-content>
      </div>
    </header>

    <!-- Main content -->
    <main class="flex-1 overflow-x-hidden overflow-y-auto bg-transparent">
      <div class="container mx-auto px-6 py-8">
        <ng-content></ng-content>
      </div>
    </main>
  </div>
</div>
